<!DOCTYPE html>
<html lang="en-US">
<head>
    <!-- SEO & METADATA -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dgdfgd</title>
    <meta name="description" content="dgdfgdgdgd">
    
    <meta name="theme-color" content="#050505">

    <!-- OPEN GRAPH & SOCIAL (Entity Stacking Optimized) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://crackstreams.help/nba/">
    <meta property="og:site_name" content="StreamEast">
    <meta property="og:title" content="dgdfgd">
    <meta property="og:description" content="dgdfgdgdgd">
    
    <!-- OG IMAGE (Falls back to Logo) -->
    <meta property="og:image" content="https://crackstreams.help/assets/test-logo.webp">
    <meta property="og:image:secure_url" content="https://crackstreams.help/assets/test-logo.webp">
    <meta property="og:image:type" content="image/webp">
    <meta property="og:image:alt" content="StreamEast Logo">

    <!-- TWITTER CARDS -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="dgdfgd">
    <meta name="twitter:description" content="dgdfgdgdgd">
    <meta name="twitter:image" content="https://crackstreams.help/assets/test-logo.webp">
    
    <!-- ROBOTS -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    
    <!-- FAVICON -->
    <link rel="icon" href="/assets/Untitled%20design%20(46)-min.png">
    <link rel="canonical" href="https://crackstreams.help/nba/">
    <link rel="preload" as="image" href="/assets/test-logo.webp" fetchpriority="high">
    
    <!-- STATIC SCHEMAS -->
    

    <style>html { scroll-behavior: smooth; }</style>

    <style>
        :root {
            --brand-primary: #D00000;
            --brand-dark: #8a0000;
            --status-green: #00e676;
            --accent-gold: #FFD700;
            --bg-body: #050505;
            --bg-panel: #0f0f0f;
            --bg-glass: rgba(18, 18, 18, 0.85);
            --border: #222;
            --text-main: #ffffff;
            --text-muted: #888;
            --cms-hero-grad: ; 
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif; background: var(--bg-body); color: var(--text-main); font-size: 14px; overflow-x: hidden; padding-bottom: 60px; }
        a { text-decoration: none; color: inherit; transition: 0.2s; }
        button { cursor: pointer; border: none; font-family: inherit; }
        ul { list-style: none; padding: 0; margin: 0; }
        
        /* SKELETON LOADERS */
        .skeleton { background: #111; border-radius: 4px; animation: shimmer 1.5s infinite linear; background: linear-gradient(to right, #111 4%, #1a1a1a 25%, #111 36%); background-size: 1000px 100%; }
        .skeleton-header { display: flex; justify-content: space-between; align-items: flex-end; margin: 30px 0 12px 0; padding-bottom: 8px; border-bottom: 1px solid #1a1a1a; }
        .sk-title { height: 20px; width: 140px; }
        .sk-count { height: 15px; width: 80px; }
        .skeleton-box { height: 72px; width: 100%; margin-bottom: 8px; border-radius: 6px; border: 1px solid #1a1a1a; }
        @keyframes shimmer { 0% { background-position: -1000px 0; } 100% { background-position: 1000px 0; } }

        /* HEADER & NAV */
        header { background: rgba(5, 5, 5, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); height: 60px; width: 100%; position: fixed; top: 0; z-index: 100; }
        .header-container { max-width: 1200px; margin: 0 auto; height: 100%; padding: 0 15px; display: flex; align-items: center; justify-content: space-between; }
        .logo-link { display: flex; align-items: center; gap: 10px; }
        .logo-img { height: 35px; width: 35px; border-radius: 6px; object-fit: cover; box-shadow: 0 0 10px rgba(208,0,0,0.3); }
        .logo-text { font-size: 1.4rem; font-weight: 900; font-style: italic; letter-spacing: -1px; text-transform: uppercase; line-height: 1; }
        .logo-text span { color: var(--brand-primary); }
        
        .nav-links { display: none; gap: 20px; font-weight: 600; font-size: 0.85rem; text-transform: uppercase; color: #aaa; height: 100%; }
        .nav-links a { display: flex; align-items: center; height: 100%; border-bottom: 2px solid transparent; transition: all 0.2s ease; }
        .nav-links a:hover, .nav-links a.active { color: white; border-bottom-color: var(--brand-primary); }
        
        .hamburger { display: block; font-size: 1.4rem; color: white; background: none; }
        .mobile-menu { position: fixed; top: 60px; left: 0; width: 100%; background: #0f0f0f; border-bottom: 1px solid var(--border); display: none; flex-direction: column; z-index: 99; }
        .mobile-menu.active { display: flex; }
        .mobile-menu a { padding: 15px 20px; border-bottom: 1px solid #1f1f1f; font-weight: 600; color: #ccc; }
        .mobile-menu a.active { color: var(--brand-primary); border-left: 4px solid var(--brand-primary); }
        @media (min-width: 900px) { .nav-links { display: flex; } .hamburger { display: none; } }

        /* SOCIAL SIDEBAR */
        .social-sidebar { position: fixed; left: 0; top: 50%; transform: translateY(-50%); z-index: 90; display: flex; flex-direction: column; gap: 8px; background: rgba(10,10,10,0.95); border: 1px solid var(--border); border-left: none; padding: 12px 8px; border-radius: 0 8px 8px 0; box-shadow: 4px 0 15px rgba(0,0,0,0.6); backdrop-filter: blur(5px); }
        .social-btn { width: 44px; padding: 6px 0; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 3px; color: #9aa0a6; background: transparent; border: 1px solid #1f1f1f; border-radius: 6px; will-change: transform; transition: transform 0.2s ease, color 0.2s ease, background 0.2s ease; }
        .social-btn svg { width: 20px; height: 20px; fill: currentColor; display: block; }
        .social-btn.telegram { color: #229ED9; }
        .social-btn.whatsapp { color: #25D366; }
        .social-btn.reddit   { color: #FF6A3D; }
        .social-btn.twitter  { color: #1DA1F2; }
        .social-btn.copy     { color: #9aa0a6; }
        .social-btn:hover { background: #141414; border-color: #2a2a2a; transform: translateX(2px) scale(1.04); box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .s-count { font-size: 0.65rem; font-weight: 700; color: #94a3b8; letter-spacing: 0.3px; }
        
        /* NOTE: Sidebar hides on screens smaller than 1024px. This matches your request. */
        @media (max-width: 1024px) {
            .social-sidebar { display: none; }
        }
        
        .copy-toast { position: fixed; left: 50%; bottom: 90px; transform: translateX(-50%); background: #111; border: 1px solid #333; color: #fff; padding: 8px 14px; font-size: 0.75rem; border-radius: 6px; z-index: 9999; opacity: 0; animation: fadeToast 1.6s ease forwards; }
        @keyframes fadeToast { 0% { opacity: 0; transform: translate(-50%, 10px); } 20% { opacity: 1; transform: translate(-50%, 0); } 80% { opacity: 1; } 100% { opacity: 0; } }
        @media (max-width: 768px) { .copy-toast { bottom: 70px; } }

        /* HERO & CONTENT */
        .hero { padding: 90px 15px 15px 15px; text-align: center; background: radial-gradient(circle at top, #1a0505 0%, var(--bg-body) 80%); border-bottom: 1px solid var(--border); display: none; }
        .sys-status { display: inline-flex; align-items: center; gap: 8px; background: rgba(0, 230, 118, 0.08); border: 1px solid rgba(0, 230, 118, 0.2); padding: 5px 14px; border-radius: 20px; margin-bottom: 15px; font-size: 0.75rem; font-weight: 700; color: var(--status-green); }
        .dot { width: 6px; height: 6px; background: var(--status-green); border-radius: 50%; box-shadow: 0 0 8px var(--status-green); animation: pulse 2s infinite; }
        h1 { margin: 0 0 20px 0; font-size: 1.8rem; line-height: 1.2; color: white; font-weight: 800; }
        .entity-intro { color: #999; font-size: 0.9rem; line-height: 1.5; max-width: 800px; margin: 0 auto; }
        .cat-scroll { display: flex; gap: 10px; overflow-x: auto; padding: 10px 5px; justify-content: center; scrollbar-width: none; }
        .cat-pill { background: #111; border: 1px solid var(--border); padding: 8px 18px; border-radius: 50px; font-weight: 700; font-size: 0.8rem; white-space: nowrap; color: #ccc; }
        .cat-pill:hover, .cat-pill.active { border-color: var(--brand-primary); color: white; background: rgba(208,0,0,0.1); }
        
        .container { max-width: 1100px; margin: 0 auto; padding: 20px 15px; min-height: 60vh; }
        .sec-head { display: flex; justify-content: space-between; align-items: flex-end; margin: 30px 0 12px 0; padding-bottom: 8px; border-bottom: 1px solid #1a1a1a; }
        .sec-title { font-size: 1.1rem; font-weight: 800; color: white; display: flex; align-items: center; gap: 8px; text-transform: uppercase; }
        .live-dot { width: 8px; height: 8px; background: var(--brand-primary); border-radius: 50%; box-shadow: 0 0 10px var(--brand-primary); }
        .sec-right-link { font-size: 0.8rem; font-weight: 600; color: var(--text-muted); cursor: pointer; }
        .sec-right-link:hover { color: var(--brand-primary); text-decoration: underline; }
        
        /* MATCH ROW STYLES */
        .match-row { display: grid; grid-template-columns: 45px 1fr 50px 75px; align-items: center; gap: 8px; background: var(--bg-glass); border: 1px solid var(--border); border-radius: 6px; padding: 10px 8px 5px 8px; margin-bottom: 8px; position: relative; transition: 0.2s; }
        .match-row:hover { border-color: #444; transform: translateY(-2px); }
        .match-row.live { border-left: 3px solid var(--brand-primary); background: linear-gradient(90deg, rgba(208,0,0,0.06) 0%, rgba(20,20,20,0.8) 100%); }
        @media (min-width: 768px) { .match-row { grid-template-columns: 80px 1fr 100px 110px; padding: 15px 20px 10px 20px; gap: 20px; } }
        
        .col-time { text-align: center; display: flex; flex-direction: column; justify-content: center; gap: 2px; }
        .time-label { font-size: 0.55rem; color: #666; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px; }
        .time-main { font-size: 0.75rem; font-weight: 700; color: #888; }
        .time-sub { font-size: 0.6rem; color: #94a3b8; }
        .live-txt { color: var(--brand-primary); font-weight: 900; animation: blink 1.5s infinite; font-size: 0.65rem; }
        
        .teams-wrapper { display: flex; flex-direction: column; gap: 3px; overflow: hidden; }
        .league-tag { font-size: 0.6rem; color: var(--accent-gold); font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .team-name { font-size: 0.7rem; font-weight: 600; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: flex; align-items: center; gap: 6px; }
        @media (min-width: 768px) { .team-name { font-size: 0.9rem; } }
        
        /* UPDATED LOGO STYLES (Supports Image + Fallback) */
        .logo-box { width: 18px; height: 18px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; position: relative; }
        .t-img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; }
        .t-logo { width: 100%; height: 100%; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 900; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.5); position: absolute; top: 0; left: 0; }
        
        .col-meta { display: flex; flex-direction: column; align-items: flex-end; gap: 3px; justify-content: center; }
        .meta-top { font-size: 0.7rem; font-weight: 700; color: var(--accent-gold); white-space: nowrap; }
        
        .col-action { margin-left: auto; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; }
        
        .btn-watch { background: var(--brand-primary); color: white; font-size: 0.65rem; font-weight: 800; padding: 6px 10px; border-radius: 4px; width: 100%; text-transform: uppercase; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; gap:5px; height: 26px; }
        .btn-watch:hover { background: var(--brand-dark); transform: scale(1.02); }
        .hd-badge { background: rgba(0,0,0,0.3); padding: 1px 4px; border-radius: 3px; font-size: 0.55rem; border: 1px solid rgba(255,255,255,0.2); }
        .btn-notify { background: transparent; border: 1px solid #333; color: #888; padding: 0; box-shadow: none; justify-content: center; transition: all 0.25s ease; height: 26px; }
        .btn-notify.active { border-color: var(--status-green); color: var(--status-green); background: rgba(0, 230, 118, 0.08); cursor: default; }
        
        .btn-copy-link { background: none; border: none; color: #888; font-size: 0.65rem; font-weight: 700; text-transform: uppercase; cursor: pointer; display: flex; align-items: center; gap: 4px; transition: 0.2s; padding: 0; margin-top: 5px;}
        .btn-copy-link:hover { color: var(--status-green); }
        .btn-copy-link svg { width: 10px; height: 10px; fill: currentColor; }

        .show-more-btn { display: block; width: 100%; max-width: 300px; margin: 20px auto; background: #151515; border: 1px solid #333; color: #ccc; padding: 12px; border-radius: 30px; font-weight: 600; font-size: 0.85rem; transition:0.2s; cursor: pointer; }
        .show-more-btn:hover { border-color: var(--brand-primary); color: #fff; background: #1a1a1a; }
        
        .leagues-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px; margin-top: 15px; }
        .league-card { background: #111; border: 1px solid var(--border); padding: 10px 15px; border-radius: 4px; display: flex; align-items: center; gap: 10px; transition: 0.2s; white-space: nowrap; overflow: hidden; }
        .league-card:hover { border-color: var(--brand-primary); background: #1a1a1a; transform: translateY(-2px); }
        .league-card span { font-size: 0.8rem; font-weight: 700; color: #ccc; overflow: hidden; text-overflow: ellipsis; }
        .l-icon { font-size: 1.1rem; }
        
        footer { background: linear-gradient(180deg, #0e0e0e 0%, #050505 100%); border-top: 1px solid var(--border); padding: 60px 20px 30px 20px; margin-top: 60px; }
        .footer-grid { display: grid; grid-template-columns: 1fr; gap: 40px; max-width: 1100px; margin: 0 auto; text-align: center; }
        @media(min-width: 768px) { .footer-grid { grid-template-columns: 1fr 1fr; text-align: left; } .footer-grid div:last-child { text-align: right; } }
        .f-brand h2 { margin: 0 0 15px 0; font-style: italic; text-transform: uppercase; color: #fff; letter-spacing: -1px; }
        .f-desc { color: #64748b; font-size: 0.85rem; line-height: 1.6; max-width: 400px; margin: 0 auto; }
        @media(min-width: 768px) { .f-desc { margin: 0; } }
        .f-links { display: flex; flex-direction: column; gap: 12px; }
        .f-link { color: #94a3b8; font-size: 0.9rem; font-weight: 500; transition: 0.2s; }
        .f-link:hover { color: white; transform: translateX(5px); }
        .copyright { margin-top: 50px; border-top: 1px solid #1e293b; padding-top: 25px; text-align: center; font-size: 0.75rem; color: #475569; }
        .f-head { color: #fff; margin-bottom: 15px; text-transform: uppercase; font-size: 0.9rem; font-weight: 700; }
        
        .back-to-top { position: fixed; bottom: 80px; right: 20px; background: var(--brand-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; opacity: 0; visibility: hidden; transition: 0.3s; z-index: 90; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .back-to-top.show { opacity: 1; visibility: visible; }
        .back-to-top svg { width: 24px; height: 24px; fill: white; }
        @media (min-width: 768px) { .back-to-top { bottom: 30px; } }

        @keyframes blink { 0%, 100% {opacity:1;} 50% {opacity:0.4;} }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
    </style>
<style>#live-section, #upcoming-container { display: none !important; }</style></head>
<body>
    
    <div id="socialSidebar" class="social-sidebar"></div>

    <header>
        <div class="header-container">
            <a href="/" class="logo-link"><img src="/assets/test-logo.webp" class="logo-img" alt="StreamEast Logo" fetchpriority="high"> <div class="logo-text">Stream<span>East</span></div></a>
            <nav class="nav-links" id="desktopNav"><a href="#">Schedule</a><a href="/#faqs">FAQs</a><a href="/#comeback" style="color:#facc15; border-bottom:1px solid #facc15;">How we comeback</a></nav>
            <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
        </div>
    </header>
    <div class="mobile-menu" id="mobileMenu"><a href="#">Schedule</a><a href="/#faqs">FAQs</a><a href="/#comeback" style="color:#facc15; border-bottom:1px solid #facc15;">How we comeback</a></div>

    <div class="hero">
        <div class="sys-status"><div class="dot"></div> System Status: Online</div>
        <h1>Streameast - #1 NBA Streaming Site</h1>
        <p class="entity-intro">dgdfgdgdgd</p>
        <div class="cat-scroll"><a href="#" class="cat-pill">‚öæ MLB</a><a href="/nba" class="cat-pill">üèÄ NBA</a><a href="/#ufc" class="cat-pill">ü•ä UFC</a></div>
    </div>

    <main class="container">
        
        <div id="live-section">
            <div id="live-sk-head" class="skeleton skeleton-header">
                <div class="sk-title"></div><div class="sk-count"></div>
            </div>
            <div id="live-skeleton">
                <div class="skeleton skeleton-box"></div>
                <div class="skeleton skeleton-box"></div>
            </div>
            <div id="live-content-wrapper" style="display:none;">
                <div class="sec-head">
                    <div class="sec-title"><div class="live-dot"></div> Trending Live</div>
                    <div class="sec-right-link" id="live-count"></div>
                </div>
                <div id="trending-list" class="match-list"></div>
                <button id="show-more-live" class="show-more-btn" style="display:none">Show More Matches ‚ñº</button>
                <div id="hidden-live-list" class="match-list" style="display:none; margin-top:10px;"></div>
            </div>
        </div>
        
        <div id="upcoming-skeleton" style="margin-top:40px;">
             <div class="skeleton skeleton-header"><div class="sk-title"></div></div>
             <div class="skeleton skeleton-box"></div>
             <div class="skeleton skeleton-box"></div>
        </div>
        <div id="upcoming-container"></div>
        
        <div class="seo-box" style="margin-top:40px; color:#aaa; font-size:0.9rem; line-height:1.6;"></div>

        <div class="section-box" style="margin-top:50px;">
            <div class="sec-head"><div class="sec-title">üèÜ Popular Leagues</div></div>
            <div class="leagues-grid">
            <a href="/nfl-streams/" class="league-card">
                <span class="l-icon">üèà</span>
                <span>NFL</span>
            </a>
            <a href="/nba-streams/" class="league-card">
                <span class="l-icon">üèÄ</span>
                <span>NBA</span>
            </a>
            <a href="/mlb-streams/" class="league-card">
                <span class="l-icon">‚öæ</span>
                <span>MLB</span>
            </a>
            <a href="/nhl-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>NHL</span>
            </a>
            <a href="/ufc-streams/" class="league-card">
                <span class="l-icon">ü•ä</span>
                <span>UFC</span>
            </a>
            <a href="/boxing-streams/" class="league-card">
                <span class="l-icon">ü•ä</span>
                <span>Boxing</span>
            </a>
            <a href="/formula1-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Formula 1</span>
            </a>
            <a href="/collegefootball-streams/" class="league-card">
                <span class="l-icon">üèà</span>
                <span>College Football</span>
            </a>
            <a href="/collegebasketball-streams/" class="league-card">
                <span class="l-icon">üèÄ</span>
                <span>College Basketball</span>
            </a>
            <a href="/premierleague-streams/" class="league-card">
                <span class="l-icon">‚öΩ</span>
                <span>Premier League</span>
            </a>
            <a href="/championsleague-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Champions League</span>
            </a>
            <a href="/mls-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>MLS</span>
            </a>
            <a href="/laliga-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>LaLiga</span>
            </a>
            <a href="/bundesliga-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Bundesliga</span>
            </a>
            <a href="/seriea-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Serie A</span>
            </a>
            <a href="/tennis-streams/" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Tennis</span>
            </a></div>
        </div>

    </main>

    <footer>
        <div class="footer-grid">
            <div class="f-brand">
                <img src="/assets/test-logo.webp" class="logo-img" alt="StreamEast Logo" fetchpriority="high"> <div class="logo-text">Stream<span>East</span></div>
                <div class="f-desc">Hello world</div>
            </div>
            <div>
                <div class="f-head">Quick Links</div>
                <div class="f-links"><a href="/dmca" class="f-link">DMCA</a><a href="/contact" class="f-link">Contact</a><a href="/terms" class="f-link">Terms & Conditions</a></div>
            </div>
        </div>
        <div class="copyright">Copyright</div>
    </footer>

    <button id="backToTop" class="back-to-top" onclick="window.scrollTo(0,0)">
        <svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
    </button>

    <script>
        const API_URL = "https://vercelapi-olive.vercel.app/api/sync-nodes";
        const TARGET_COUNTRY = "US"; 
        const PRIORITIES = {"_HIDE_OTHERS": false, "NFL": {"score": 100, "isLeague": true, "hasLink": true, "isHidden": false}, "NBA": {"score": 99, "isLeague": true, "hasLink": true, "isHidden": false}, "MLB": {"score": 98, "isLeague": true, "hasLink": true, "isHidden": false}, "NHL": {"score": 97, "isLeague": true, "hasLink": true, "isHidden": false}, "UFC": {"score": 95, "isLeague": true, "hasLink": true, "isHidden": false}, "Boxing": {"score": 94, "isLeague": false, "hasLink": true, "isHidden": false}, "Formula 1": {"score": 93, "isLeague": true, "hasLink": true, "isHidden": false}, "College Football": {"score": 90, "isLeague": true, "hasLink": true, "isHidden": false}, "College Basketball": {"score": 89, "isLeague": true, "hasLink": true, "isHidden": false}, "Premier League": {"score": 85, "isLeague": true, "hasLink": true, "isHidden": false}, "Champions League": {"score": 84, "isLeague": true, "hasLink": true, "isHidden": false}, "MLS": {"score": 83, "isLeague": true, "hasLink": true, "isHidden": false}, "LaLiga": {"score": 82, "isLeague": true, "hasLink": true, "isHidden": false}, "Bundesliga": {"score": 81, "isLeague": true, "hasLink": true, "isHidden": false}, "Serie A": {"score": 80, "isLeague": true, "hasLink": true, "isHidden": false}, "Tennis": {"score": 40, "isLeague": false, "hasLink": true, "isHidden": false}, "Golf": {"score": 30, "isLeague": false, "hasLink": false, "isHidden": false}}; 
        const SITE_DOMAIN = "https://crackstreams.help";
        const SHARE_CONFIG = {"excluded": ["dmca", "contact", "about", "privacy"], "counts": {"telegram": 12000, "whatsapp": 14400, "reddit": 60077, "twitter": 5544}};

        const NAME_FIXES = {
            'americanfootball': 'American Football',
            'collegefootball': 'College Football',
            'ncaafootball': 'NCAA Football',
            'collegebasketball': 'College Basketball',
            'ncaabasketball': 'NCAA Basketball',
            'icehockey': 'Ice Hockey',
            'rugbyunion': 'Rugby Union',
            'rugbyleague': 'Rugby League',
            'formula1': 'Formula 1',
            'premierleague': 'Premier League',
            'championsleague': 'Champions League',
            'europaleague': 'Europa League',
            'superbowl': 'Super Bowl',
            'mma': 'MMA' 
        };

        const SMART_ALIASES = {
            'football': 'soccer', 'soccer': 'soccer', 'premierleague': 'soccer',
            'championsleague': 'soccer', 'europaleague': 'soccer', 'laliga': 'soccer',
            'bundesliga': 'soccer', 'seriea': 'soccer', 'ligue1': 'soccer',
            'mls': 'soccer', 'worldcup': 'soccer', 'euro': 'soccer',
            'uefaeuro': 'soccer', 'copaamerica': 'soccer', 'facup': 'soccer',
            'carabaocup': 'soccer',
            'nfl': 'americanfootball', 'americanfootball': 'americanfootball',
            'collegefootball': 'americanfootball', 'ncaafootball': 'americanfootball',
            'ncaaf': 'americanfootball', 'ncaafb': 'americanfootball', 'superbowl': 'americanfootball',
            'nba': 'basketball', 'basketball': 'basketball', 'collegebasketball': 'basketball',
            'ncaabasketball': 'basketball', 'ncaab': 'basketball', 'wnba': 'basketball',
            'euroleague': 'basketball', 'mlb': 'baseball', 'baseball': 'baseball',
            'nhl': 'icehockey', 'icehockey': 'icehockey', 'ahl': 'icehockey',
            'ufc': 'mma', 'mma': 'mma', 'boxing': 'boxing', 'fight': 'mma',
            'f1': 'motorsport', 'formula1': 'motorsport', 'formulaone': 'motorsport',
            'nascar': 'motorsport', 'motogp': 'motorsport', 'indycar': 'motorsport',
            'cricket': 'cricket', 'ashes': 'cricket', 'theashes': 'cricket',
            'ipl': 'cricket', 't20': 'cricket', 'odi': 'cricket', 'testcricket': 'cricket',
            'tennis': 'tennis', 'golf': 'golf', 'pga': 'golf', 'livgolf': 'golf',
            'rugby': 'rugby', 'rugbyunion': 'rugby', 'rugbyleague': 'rugby',
            'sixnations': 'rugby', 'darts': 'darts', 'pdc': 'darts', 'snooker': 'snooker'
        };

        let allMatches = [];
        let scrollTimeout;

        window.addEventListener('DOMContentLoaded', () => {
            highlightActiveMenu();
            renderSocials();
            loadMatches();
        });

        window.addEventListener('scroll', () => {
            const btn = document.getElementById('backToTop');
            if(window.scrollY > 300) {
                btn.classList.add('show');
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    btn.classList.remove('show');
                }, 2000); 
            } else {
                btn.classList.remove('show');
            }
        });

        async function loadMatches() {
            try {
                const res = await fetch(`${API_URL}?country=${TARGET_COUNTRY.toLowerCase()}`);
                const data = await res.json();
                allMatches = data.matches;
                
                if(data.seo && data.seo !== "nill" && Object.keys(data.seo).length > 0) {
                    injectDynamicSchema(data.seo);
                }
                
                renderApp(data.matches);
            } catch(e) { console.error(e); }
        }

        function renderApp(matches) {
            document.getElementById('live-sk-head').style.display = 'none';
            document.getElementById('live-skeleton').style.display = 'none';
            document.getElementById('upcoming-skeleton').style.display = 'none';
            
            const liveMatches = matches.filter(m => m.is_live);
            const now = Date.now();
            const oneDay = 24 * 60 * 60 * 1000;
            const upcomingMatches = matches.filter(m => !m.is_live && (m.startTimeUnix - now) < oneDay);
            
            renderLiveSection(liveMatches);
            renderUpcomingGrouped(upcomingMatches);
        }

        function renderLiveSection(matches) {
            const wrapper = document.getElementById('live-content-wrapper');
            const topList = document.getElementById('trending-list');
            const hiddenList = document.getElementById('hidden-live-list');
            const btn = document.getElementById('show-more-live');
            
            if (matches.length === 0) { 
                wrapper.style.display = 'none'; 
                document.getElementById('live-section').style.display = 'none';
                return; 
            }
            wrapper.style.display = 'block';
            topList.innerHTML = ''; hiddenList.innerHTML = ''; btn.style.display='none';
            
            document.getElementById('live-count').innerText = `‚óè ${matches.length} Live Matches`;
            
            matches.slice(0, 5).forEach(m => topList.appendChild(createMatchRow(m, { isTrendingLive: true })));
            
            if (matches.length > 5) {
                matches.slice(5).forEach(m => hiddenList.appendChild(createMatchRow(m, { isTrendingLive: true })));
                btn.style.display = 'block'; btn.innerText = `Show ${matches.length - 5} More Matches ‚ñº`;
                btn.onclick = () => { hiddenList.style.display='block'; btn.style.display='none'; };
            }
        }

        function normalizeKey(str) {
            if(!str) return "";
            return str.toLowerCase().replace(/[^a-z0-9]/g, '');
        }

        function formatSportName(raw) {
            const key = normalizeKey(raw);
            if(NAME_FIXES[key]) return NAME_FIXES[key];
            return toTitleCase(raw);
        }

        function renderUpcomingGrouped(matches) {
            const container = document.getElementById('upcoming-container');
            container.innerHTML = '';
            const allGroups = {};
            
            const HIDE_OTHERS = PRIORITIES._HIDE_OTHERS === true;

            const groupConfigs = {};

            Object.keys(PRIORITIES).forEach(pKey => {
                if (pKey === '_HIDE_OTHERS') return;
                
                const conf = PRIORITIES[pKey];
                if (conf.isHidden) return;

                const normPKey = normalizeKey(pKey);
                const stackId = SMART_ALIASES[normPKey] || normPKey;

                if (!groupConfigs[stackId]) {
                    groupConfigs[stackId] = {
                        score: 0,
                        name: pKey, 
                        hasLink: false,
                        isLeague: false,
                        iconKey: pKey 
                    };
                }

                if (conf.score > groupConfigs[stackId].score) {
                    groupConfigs[stackId].score = conf.score;
                    groupConfigs[stackId].iconKey = pKey; 
                    groupConfigs[stackId].hasLink = conf.hasLink;
                    groupConfigs[stackId].isLeague = conf.isLeague;
                    groupConfigs[stackId].name = pKey;
                }
            });

            matches.forEach(m => {
                const sportRaw = (m.sport || "General").trim();
                const sportKey = normalizeKey(sportRaw);
                const leagueKey = normalizeKey(m.league || "");
                
                let stackId = SMART_ALIASES[sportKey] || sportKey;
                if (SMART_ALIASES[leagueKey]) stackId = SMART_ALIASES[leagueKey];

                let groupName = "";
                let groupScore = 0;
                let hasLink = false;
                let isLeague = false;
                let iconKey = "";

                if (groupConfigs[stackId]) {
                    const conf = groupConfigs[stackId];
                    groupScore = conf.score;
                    hasLink = conf.hasLink;
                    isLeague = conf.isLeague;
                    iconKey = conf.iconKey; 
                    groupName = conf.name;
                } else {
                    if (HIDE_OTHERS) return;
                    groupName = formatSportName(sportRaw);
                    stackId = normalizeKey(groupName); 
                    groupScore = 0;
                    hasLink = false;
                    isLeague = false;
                    iconKey = groupName;
                }

                if (!allGroups[stackId]) {
                    allGroups[stackId] = {
                        name: groupName,
                        score: groupScore,
                        matches: [],
                        hasLink,
                        isLeague,
                        iconKey: iconKey || groupName
                    };
                }
                allGroups[stackId].matches.push(m);
            });

            const sortedGroups = Object.values(allGroups).sort((a,b) => b.score - a.score);

            sortedGroups.forEach(group => {
                group.matches.sort((a,b) => a.startTimeUnix - b.startTimeUnix);
                createSection(container, group.name, group.matches, group.hasLink, group.iconKey, group.isLeague);
            });
        }

        function createSection(container, title, matches, hasLink, iconKey, isLeague) {
            const section = document.createElement('div');
            section.style.marginBottom = '30px';
            
            let linkHtml = '';
            if (hasLink) {
                const slug = normalizeKey(iconKey);
                linkHtml = `<a href="/${slug}/" class="sec-right-link">View All ></a>`;
            }
            
            section.innerHTML = `<div class="sec-head"><div class="sec-title">${getSportIcon(iconKey)} Upcoming ${title}</div>${linkHtml}</div>`;
            const list = document.createElement('div');
            
            matches.forEach(m => list.appendChild(createMatchRow(m, { isLeague, isUpcoming: true })));
            section.appendChild(list);
            container.appendChild(section);
        }

        function createMatchRow(m, context = {}) {
            const div = document.createElement('div');
            div.className = m.is_live ? 'match-row live' : 'match-row';
            
            // ============================================
            // 1. SAFE LOGO GENERATOR (NEW ADDITION)
            // ============================================
            const BADGE_BASE = "https://streamed.pk/api/images/badge/";
            
            const renderLogo = (badgeId, letter) => {
                // If backend provides a logo ID, construct image with error handling
                if (badgeId) {
                    return `
                    <div class="logo-box">
                        <img src="${BADGE_BASE}${badgeId}.webp" class="t-img" loading="lazy" alt="${letter}" 
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <span class="t-logo" style="background:${getColor(letter)}; display:none;">${letter}</span>
                    </div>`;
                }
                // Fallback: Use original colored letter circle
                return `<span class="logo-box"><span class="t-logo" style="background:${getColor(letter)}">${letter}</span></span>`;
            };
            // ============================================

            let timeCol;
            if (m.is_live) {
                timeCol = `<span class="live-txt">LIVE</span><span class="time-sub">${m.status_text || "Now"}</span>`;
            } else { 
                const parts = m.formatted_date.split('‚Ä¢'); 
                timeCol = `<span class="time-main">${parts[1] || ''}</span><span class="time-sub">${parts[0]}</span>`; 
            }
            
            let teamsHtml = '';
            const tA = m.team_a; const tB = m.team_b;
            const matchTitle = tB ? `${tA} vs ${tB}` : tA;
            
            // --- UPDATED TEAM HTML GENERATION ---
            if (!tB) {
                teamsHtml = `<div class="team-name">${renderLogo(m.team_a_logo, m.team_a_letter||'T')} ${tA}</div>`;
            } else {
                teamsHtml = `
                <div class="team-name">${renderLogo(m.team_a_logo, m.team_a_letter||'T')} ${tA}</div>
                <div class="team-name">${renderLogo(m.team_b_logo, m.team_b_letter||'T')} ${tB}</div>`;
            }
            // ------------------------------------
            
            let metaHtml = '';
            if (m.is_live) {
                 metaHtml = `<div class="meta-top">${m.live_viewers || 'N/A'}</div>`;
            } else {
                 metaHtml = `
                    <div style="display:flex; flex-direction:column; align-items:flex-end;">
                        <span style="font-size:0.55rem; color:#888; font-weight:700; text-transform:uppercase; margin-bottom:2px;">Starts in</span>
                        <span class="meta-top" style="color:var(--accent-gold); font-size:0.75rem;">${m.status_text}</span>
                    </div>
                 `;
            }

            // === UPDATED ACTION LOGIC FOR SEO & USER EXPERIENCE ===
            let actionHtml = '';
            
            // 1. Fallback for Slug (Prevents "No Match" Error if backend is outdated)
            const slug = m.slug || `match-${m.id}`;
            
            // 2. Safe URL (For Google/Info) -> ?v=
            const infoLink = `${SITE_DOMAIN}/watch/?v=${slug}`;
            
            // 3. Stream URL (For Users) -> ?stream=
            const streamLink = `${SITE_DOMAIN}/watch/?stream=${slug}`;
            
            const liveWatchBtn = `<a href="${streamLink}" title="Watch ${matchTitle}" class="btn-watch">WATCH <span class="hd-badge">HD</span></a>`;
            const upcomingWatchBtn = `<a href="${infoLink}" title="View Info for ${matchTitle}" class="btn-watch">WATCH <span class="hd-badge">HD</span></a>`;

            const copyBtn = `<button class="btn-copy-link" onclick="copyText('${infoLink}')"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Copy Link</button>`;
            const notifyBtn = `<button class="btn-watch btn-notify" onclick="setNotify(this)">üîî NOTIFY</button>`;

            if (m.is_live) {
                actionHtml = liveWatchBtn;
            } else {
                const now = Date.now();
                const diffMinutes = (m.startTimeUnix - now) / 60000;
                
                if (diffMinutes > 0 && diffMinutes <= 30) {
                    actionHtml = upcomingWatchBtn + copyBtn;
                } else {
                    actionHtml = notifyBtn + copyBtn;
                }
            }
            // =======================================================
            
            let tagText = "";
            if (context.isTrendingLive) {
                tagText = m.league || m.tournament || m.sport;
            } else if (context.isUpcoming) {
                if (context.isLeague) {
                    tagText = m.sport;
                } else {
                    tagText = m.league || m.tournament;
                }
            } else {
                tagText = m.league || m.tournament;
            }
            
            tagText = formatSportName(tagText || "General").toUpperCase();
            
            div.innerHTML = `<div class="col-time">${timeCol}</div><div class="teams-wrapper"><div class="league-tag">${tagText}</div>${teamsHtml}</div><div class="col-meta">${metaHtml}</div><div class="col-action">${actionHtml}</div>`;
            return div;
        }

        function highlightActiveMenu() {
            const path = window.location.pathname;
            document.querySelectorAll('.nav-links a, .mobile-menu a').forEach(link => {
                if(link.getAttribute('href') === path) link.classList.add('active');
            });
        }

        function injectDynamicSchema(seoData) {
            const jsonStr = JSON.stringify(seoData).replace(/https:\/\/example\.com/g, SITE_DOMAIN);
            const parsed = JSON.parse(jsonStr);
            Object.values(parsed).forEach(schema => {
                const script = document.createElement('script');
                script.type = 'application/ld+json';
                script.text = JSON.stringify(schema);
                document.head.appendChild(script);
            });
        }

        function renderSocials() {
            const currentSlug = window.location.pathname.replace(/\//g, '');
            if(SHARE_CONFIG.excluded.includes(currentSlug)) return;

            const sb = document.getElementById('socialSidebar');
            
            const actions = {
                telegram: `https://t.me/share/url?url=${encodeURIComponent(SITE_DOMAIN)}`,
                whatsapp: `https://api.whatsapp.com/send?text=${encodeURIComponent(SITE_DOMAIN)}`,
                reddit: `https://www.reddit.com/submit?url=${encodeURIComponent(SITE_DOMAIN)}`,
                twitter: `https://twitter.com/intent/tweet?url=${encodeURIComponent(SITE_DOMAIN)}`
            };

            const icons = {
                telegram: '<svg viewBox="0 0 24 24"><path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.47-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.28L19.84 4c.75-.28 1.4.52 1.16 1.76l-2.8 13.2c-.2.9-1.09.9-1.8.6l-5.45-4.06-2.6 2.5c-.3.3-.55.55-1.1.55l.45-3.6z"/></svg>',
                whatsapp: '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91c0 1.75.46 3.46 1.33 4.97L2 22l5.25-1.38a9.86 9.86 0 004.79 1.22h.01c5.46 0 9.91-4.45 9.91-9.91C21.96 6.45 17.51 2 12.04 2zm0 17.99a8.1 8.1 0 01-4.13-1.13l-.3-.18-3.12.82.83-3.04-.2-.31a8.06 8.06 0 01-1.23-4.31c0-4.45 3.63-8.08 8.08-8.08 4.45 0 8.08 3.63 8.08 8.08 0 4.45-3.63 8.15-8.08 8.15zm4.43-6.03c-.24-.12-1.41-.7-1.63-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.02-.38-1.94-1.2-.72-.64-1.2-1.44-1.34-1.68-.14-.24-.01-.37.11-.49.11-.11.24-.28.36-.42.12-.14.16-.24.24-.4.08-.16.04-.3-.02-.42-.06-.12-.54-1.3-.74-1.78-.2-.48-.4-.42-.54-.42h-.46c-.16 0-.42.06-.64.3-.22.24-.84.82-.84 2 0 1.18.86 2.32.98 2.48.12.16 1.7 2.6 4.12 3.65.58.25 1.03.4 1.38.51.58.18 1.1.15 1.52.09.46-.07 1.41-.58 1.61-1.14.2-.56.2-1.04.14-1.14-.06-.1-.22-.16-.46-.28z"/></svg>',
                reddit: '<svg viewBox="0 0 24 24"><path d="M24 12c0-6.627-5.373-12-12-12S0 5.373 0 12c0 6.627 5.373 12 12 12s12-5.373 12-12zm-4.59 2.06c.01.14.01.28.01.43 0 3.13-3.01 5.67-6.72 5.67-3.71 0-6.72-2.54-6.72-5.67 0-.15 0-.29.01-.43-.43-.2-.72-.62-.72-1.11 0-.68.55-1.23 1.23-1.23.33 0 .64.13.87.35.83-.6 1.95-.99 3.22-1.05l.66-3.11 2.16.46a1.05 1.05 0 1 0 .12-.58l-2.44-.52-.74 3.49c1.28.06 2.41.45 3.25 1.06.23-.22.54-.35.87-.35.68 0 1.23.55 1.23 1.23 0 .49-.29.91-.72 1.11z"/></svg>',
                twitter: '<svg viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>',
                copy: '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>'
            };
            
            let html = '';
            ['telegram', 'whatsapp', 'reddit', 'twitter', 'copy'].forEach(p => {
                let onclick = '';
                if (p === 'copy') {
                    onclick = `onclick="copyText('${SITE_DOMAIN}')"`;
                } else {
                    onclick = `onclick="window.open('${actions[p]}', '_blank')"`;
                }
                const countHtml = p === 'copy' ? '' : `<span class="s-count">${formatCount(SHARE_CONFIG.counts[p])}</span>`;
                html += `<div class="social-btn ${p}" ${onclick}>${icons[p]}${countHtml}</div>`;
            });
            sb.innerHTML = html;
        }

        function copyText(text) {
            navigator.clipboard.writeText(text);
            const old = document.querySelector('.copy-toast');
            if (old) old.remove();
            const t = document.createElement('div');
            t.className = 'copy-toast';
            t.innerText = 'Link copied ‚úì';
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 1600);
        }

        function formatCount(num) {
            if (num === undefined || num === null) return '';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
            return num;
        }

        function toTitleCase(str) { return str.replace(/\w\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()); }
        function getSportIcon(n) { n=(n||"").toLowerCase(); if(n.includes('soccer')||n.includes('premier')) return '‚öΩ'; if(n.includes('basket')||n.includes('nba')) return 'üèÄ'; if(n.includes('football')||n.includes('nfl')) return 'üèà'; if(n.includes('baseball')||n.includes('mlb')) return '‚öæ'; if(n.includes('fight')||n.includes('ufc')||n.includes('box')||n.includes('mma')) return 'ü•ä'; if(n.includes('motor')||n.includes('f1')) return 'üèéÔ∏è'; return 'üèÜ'; }
        function getColor(char) { const c = ['#e53935','#d81b60','#8e24aa','#5e35b1','#3949ab','#1e88e5','#039be5','#00897b','#43a047','#7cb342','#c0ca33','#fdd835','#fb8c00']; return c[char.charCodeAt(0) % c.length]; }
        function toggleMenu() { document.getElementById('mobileMenu').classList.toggle('active'); }
        function setNotify(btn) {
            btn.classList.add('active');
            btn.innerHTML = '‚úì Set';
            btn.disabled = true;
            copyText('You‚Äôll be notified before kickoff'); 
        }
    </script>
</body>
</html>
