<!DOCTYPE html>
<html lang="en-US">
<head>
    <!-- SEO & METADATA -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Pge Meta Title</title>
    <meta name="description" content="Meta testing for watch ">
    <meta name="keywords" content="watch now, live now, live streams">
    <meta name="theme-color" content="#050505">

    <!-- OPEN GRAPH & SOCIAL (Entity Stacking Optimized) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://crackstreams.help/watch/">
    <meta property="og:site_name" content="StreamEast">
    <meta property="og:title" content="Watch Pge Meta Title">
    <meta property="og:description" content="Meta testing for watch ">
    <meta property="og:image" content="https://crackstreams.help/assets/test-logo.webp">
    <meta property="og:image:secure_url" content="https://crackstreams.help/assets/test-logo.webp">
    <meta property="og:image:type" content="image/webp">
    <meta property="og:image:alt" content="StreamEast Logo">

    <!-- TWITTER CARDS -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Watch Pge Meta Title">
    <meta name="twitter:description" content="Meta testing for watch ">
    <meta name="twitter:image" content="https://crackstreams.help/assets/test-logo.webp">
    
    <!-- ROBOTS -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    
    <!-- FAVICON & PRELOAD -->
    <link rel="icon" href="/assets/Untitled%20design%20(46)-min.png">
    <link rel="canonical" href="https://crackstreams.help/watch/">
    <link rel="preload" as="image" href="/assets/test-logo.webp" fetchpriority="high">
    
    <!-- STATIC SCHEMAS -->
    

    <style>html { scroll-behavior: smooth; }</style>
    <style>
        /* =========================================
           PASTING ALL STYLES FROM MASTER_TEMPLATE FOR CONSISTENCY
           ========================================= */
        :root {
            --brand-primary: #D00000;
            --brand-dark: #8a0000;
            --status-green: #00e676;
            --accent-gold: #FFD700;
            --bg-body: #050505;
            --bg-panel: #0f0f0f;
            --bg-glass: rgba(18, 18, 18, 0.85);
            --border: #222;
            --text-main: #ffffff;
            --text-muted: #888;
            --cms-hero-grad: ; 
        }
        * { box-sizing: border-box; }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif; background: var(--bg-body); color: var(--text-main); font-size: 14px; overflow-x: hidden; padding-bottom: 60px; }
        a { text-decoration: none; color: inherit; transition: 0.2s; }
        button { cursor: pointer; border: none; font-family: inherit; }
        ul { list-style: none; padding: 0; margin: 0; }
        header { background: rgba(5, 5, 5, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); height: 60px; width: 100%; position: fixed; top: 0; z-index: 100; }
        .header-container { max-width: 1200px; margin: 0 auto; height: 100%; padding: 0 15px; display: flex; align-items: center; justify-content: space-between; }
        .logo-link { display: flex; align-items: center; gap: 10px; }
        .logo-img { height: 35px; width: 35px; border-radius: 6px; }
        .logo-text { font-size: 1.4rem; font-weight: 900; font-style: italic; letter-spacing: -1px; text-transform: uppercase; line-height: 1; }
        .logo-text span { color: var(--brand-primary); }
        .nav-links { display: none; gap: 20px; font-weight: 600; font-size: 0.85rem; text-transform: uppercase; color: #aaa; height: 100%; }
        .nav-links a { display: flex; align-items: center; height: 100%; border-bottom: 2px solid transparent; }
        .nav-links a:hover, .nav-links a.active { color: white; border-bottom-color: var(--brand-primary); }
        .hamburger { display: block; font-size: 1.4rem; color: white; background: none; }
        .mobile-menu { position: fixed; top: 60px; left: 0; width: 100%; background: #0f0f0f; border-bottom: 1px solid var(--border); display: none; flex-direction: column; z-index: 99; }
        .mobile-menu.active { display: flex; }
        .mobile-menu a { padding: 15px 20px; border-bottom: 1px solid #1f1f1f; }
        @media (min-width: 900px) { .nav-links { display: flex; } .hamburger { display: none; } }
        
        .social-sidebar { position: fixed; left: 0; top: 50%; transform: translateY(-50%); z-index: 90; display: flex; flex-direction: column; gap: 8px; background: rgba(10,10,10,0.95); border: 1px solid var(--border); border-left: none; padding: 12px 8px; border-radius: 0 8px 8px 0; }
        .social-btn { width: 44px; padding: 6px 0; display: flex; flex-direction: column; align-items: center; gap: 3px; color: #9aa0a6; background: transparent; border: 1px solid #1f1f1f; border-radius: 6px; }
        .social-btn svg { width: 20px; height: 20px; fill: currentColor; }
        .social-btn.telegram { color: #229ED9; } .social-btn.whatsapp { color: #25D366; } .social-btn.reddit { color: #FF6A3D; } .social-btn.twitter { color: #1DA1F2; }
        .s-count { font-size: 0.65rem; font-weight: 700; color: #94a3b8; }
        @media (max-width: 768px) { .social-sidebar { top: auto; bottom: 0; left: 0; right: 0; transform: none; flex-direction: row; width: 100%; border-radius: 0; border: none; border-top: 1px solid var(--border); background: #050505; justify-content: space-evenly; padding: 5px; height: 55px; } }
        .copy-toast { position: fixed; left: 50%; bottom: 90px; transform: translateX(-50%); background: #111; border: 1px solid #333; color: #fff; padding: 8px 14px; font-size: 0.75rem; border-radius: 6px; z-index: 9999; opacity: 0; animation: fadeToast 1.6s ease forwards; }
        @keyframes fadeToast { 0%{opacity:0;} 20%{opacity:1;} 80%{opacity:1;} 100%{opacity:0;} }

        .container { max-width: 1100px; margin: 0 auto; padding: 20px 15px; min-height: 60vh; }
        .leagues-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px; margin-top: 15px; }
        .league-card { background: #111; border: 1px solid var(--border); padding: 10px 15px; border-radius: 4px; display: flex; align-items: center; gap: 10px; transition: 0.2s; }
        .league-card:hover { border-color: var(--brand-primary); background: #1a1a1a; transform: translateY(-2px); }
        .league-card span { font-size: 0.8rem; font-weight: 700; color: #ccc; }
        .l-icon { font-size: 1.1rem; }
        footer { background: linear-gradient(180deg, #0e0e0e 0%, #050505 100%); border-top: 1px solid var(--border); padding: 60px 20px 30px 20px; margin-top: 60px; }
        .footer-grid { display: grid; grid-template-columns: 1fr; gap: 40px; max-width: 1100px; margin: 0 auto; text-align: center; }
        @media(min-width: 768px) { .footer-grid { grid-template-columns: 1fr 1fr; text-align: left; } .footer-grid div:last-child { text-align: right; } }
        .f-desc { color: #64748b; font-size: 0.85rem; line-height: 1.6; }
        .f-links { display: flex; flex-direction: column; gap: 12px; }
        .f-link { color: #94a3b8; font-size: 0.9rem; }
        .copyright { margin-top: 50px; border-top: 1px solid #1e293b; padding-top: 25px; text-align: center; font-size: 0.75rem; color: #475569; }
        .f-head { color: #fff; margin-bottom: 15px; text-transform: uppercase; font-size: 0.9rem; font-weight: 700; }
        .back-to-top { position: fixed; bottom: 80px; right: 20px; background: var(--brand-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; opacity: 0; visibility: hidden; transition: 0.3s; z-index: 90; }
        .back-to-top.show { opacity: 1; visibility: visible; }
        .back-to-top svg { width: 24px; height: 24px; fill: white; }

        /* NEW STYLES FOR WATCH PAGE */
        .hero-section { padding: 90px 15px 30px 15px; text-align: center; background: radial-gradient(circle at top, #1a0505 0%, var(--bg-body) 80%); border-bottom: 1px solid var(--border); }
        .hero-section h1 { margin: 0 0 20px 0; font-size: 1.8rem; line-height: 1.2; color: white; font-weight: 800; }
        .hero-section p { color: #999; font-size: 0.9rem; line-height: 1.5; max-width: 800px; margin: 0 auto; }

        .info-table { background: var(--bg-panel); border: 1px solid var(--border); border-radius: 8px; max-width: 700px; margin: 0 auto 25px auto; padding: 20px; }
        .info-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #2a2a2a; font-size: 0.9rem; }
        .info-row:last-child { border-bottom: none; }
        .info-label { color: var(--text-muted); font-weight: 600; }
        .info-value { color: var(--text-main); font-weight: 700; }
        .info-value.live { color: var(--status-green); animation: pulse 1.5s infinite; }
        
        .btn-watch-action { display: inline-block; background: var(--brand-primary); color: white; font-size: 1.1rem; font-weight: 800; padding: 14px 40px; border-radius: 6px; text-transform: uppercase; transition: 0.2s; box-shadow: 0 4px 15px rgba(208,0,0,0.4); }
        .btn-watch-action:hover { background: var(--brand-dark); }
        .btn-watch-action:disabled { background: #222; color: #555; cursor: not-allowed; box-shadow: none; border: 1px solid #333; }

        .player-container { background: #000; position: relative; }
        .player-container iframe { width: 100%; height: 100%; border: none; aspect-ratio: 16/9; }
        .fullscreen-btn { position: absolute; bottom: 20px; right: 20px; background: rgba(0,0,0,0.7); color: white; border: 1px solid #555; border-radius: 4px; padding: 8px; cursor: pointer; z-index: 10; }
        .fullscreen-btn:hover { background: rgba(0,0,0,0.9); }
        .fullscreen-btn svg { width: 20px; height: 20px; fill: white; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }
    </style>
<style>#live-section, #upcoming-container { display: none !important; }</style></head>
<body>
    
    <div id="socialSidebar" class="social-sidebar"></div>

    <header>
        <div class="header-container">
            <a href="/" class="logo-link"><img src="/assets/test-logo.webp" class="logo-img" alt="StreamEast Logo" fetchpriority="high"> <div class="logo-text">Stream<span>East</span></div></a>
            <nav class="nav-links" id="desktopNav"><a href="#">Schedule</a><a href="/#faqs">FAQs</a><a href="/#comeback" style="color:#facc15; border-bottom:1px solid #facc15;">How we comeback</a></nav>
            <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
        </div>
    </header>
    <div class="mobile-menu" id="mobileMenu"><a href="#">Schedule</a><a href="/#faqs">FAQs</a><a href="/#comeback" style="color:#facc15; border-bottom:1px solid #facc15;">How we comeback</a></div>

    <!-- This container is the new dynamic heart of the page -->
    <div id="watch-container">
        <!-- Default view for /watch/ -->
        <div class="hero-section">
            <h1 id="main-h1">Watch Now</h1>
            <p id="hero-paragraph">Meta testing for watch </p>
        </div>
    </div>

    <main class="container">
        <!-- The article content will always appear here -->
        <div class="seo-box" style="margin-top:20px; color:#aaa; font-size:0.9rem; line-height:1.6;">
            <p>This is watch page</p>
        </div>

        <div class="section-box" style="margin-top:50px;">
            <div class="sec-head"><div class="f-head">üèÜ Popular Leagues</div></div>
            <div class="leagues-grid">
            <a href="/contact" class="league-card">
                <span class="l-icon">üèÜ</span>
                <span>Contact</span>
            </a>
            <a href="/#soccer" class="league-card">
                <span class="l-icon">‚öΩ</span>
                <span>Soccer</span>
            </a>
            <a href="/#mlb" class="league-card">
                <span class="l-icon">‚öæ</span>
                <span>MLB</span>
            </a></div>
        </div>
    </main>

    <footer>
        <div class="footer-grid">
            <div class="f-brand">
                <img src="/assets/test-logo.webp" class="logo-img" alt="StreamEast Logo" fetchpriority="high"> <div class="logo-text">Stream<span>East</span></div>
                <div class="f-desc">Hello world</div>
            </div>
            <div>
                <div class="f-head">Quick Links</div>
                <div class="f-links"><a href="/dmca" class="f-link">DMCA</a><a href="/contact" class="f-link">Contact</a><a href="/terms" class="f-link">Terms & Conditions</a></div>
            </div>
        </div>
        <div class="copyright">Copyright</div>
    </footer>

    <button id="backToTop" class="back-to-top" onclick="window.scrollTo(0,0)">
        <svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
    </button>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <script>
        const API_URL = "https://vercelapi-olive.vercel.app/api/sync-nodes";
        const TARGET_COUNTRY = "US";
        const SITE_DOMAIN = "https://crackstreams.help";
        const SHARE_CONFIG = {"excluded": ["dmca", "contact", "about", "privacy"], "counts": {"telegram": "12000", "whatsapp": "14400", "reddit": "60077", "twitter": "5544"}};
        const SECRET_KEY = "12345678901234567890123456789012";

        let allMatches = [];
        window.MATCH_DATA = {}; 

        window.addEventListener('DOMContentLoaded', () => {
            highlightActiveMenu();
            loadAndInitialize();
        });

        async function loadAndInitialize() {
            try {
                const res = await fetch(`${API_URL}?country=${TARGET_COUNTRY.toLowerCase()}`);
                const data = await res.json();
                allMatches = data.matches;
                allMatches.forEach(m => window.MATCH_DATA[m.id] = m);

                initializeWatchPage();
                
            } catch (e) { console.error("Failed to load match data:", e); }
        }

        function initializeWatchPage() {
            const params = new URLSearchParams(window.location.search);
            const streamId = params.get('id');
            const infoId = window.location.hash.substring(1);

            if (streamId && window.MATCH_DATA[streamId]) {
                const match = window.MATCH_DATA[streamId];
                updateSeoTags(match);
                renderPlayerView(match);
            } else if (infoId && window.MATCH_DATA[infoId]) {
                const match = window.MATCH_DATA[infoId];
                updateSeoTags(match);
                renderInfoView(match);
            }
            
            // This function call is now conditional based on URL
            renderSocials();
        }

        function updateSeoTags(match) {
            const matchTitle = match.team_b ? `${match.team_a} vs ${match.team_b}` : match.team_a;
            const streamCount = match.streams ? match.streams.length : 0;
            const newTitle = `Watch ${matchTitle} - ${match.formatted_date.split('‚Ä¢')[1]} - ${streamCount} Streams Available`;
            const newDesc = `Watch the live stream of ${matchTitle}. Match scheduled for ${match.formatted_date}. Catch all the action live with multiple stream options available.`;

            document.title = newTitle;
            document.querySelector('meta[name="description"]').setAttribute("content", newDesc);
            document.querySelector('meta[property="og:title"]').setAttribute("content", newTitle);
            document.querySelector('meta[property="og:description"]').setAttribute("content", newDesc);
            document.querySelector('meta[name="twitter:title"]').setAttribute("content", newTitle);
            document.querySelector('meta[name="twitter:description"]').setAttribute("content", newDesc);
            
            document.getElementById('main-h1').innerText = matchTitle;
        }

        function renderInfoView(match) {
            const container = document.getElementById('watch-container');
            const heroParagraph = document.getElementById('hero-paragraph');
            
            const watchButtonUrl = `/watch/?id=${match.id}`;
            let watchButtonHtml;
            let viewersRow = '';
            let statusClass = '';
            let statusText = `Upcoming`;

            if (match.is_live) {
                watchButtonHtml = `<a href="${watchButtonUrl}" class="btn-watch-action">üì∫ Watch Now <span style="font-size: 0.7em; background: rgba(0,0,0,0.3); padding: 2px 5px; border-radius: 4px; margin-left: 5px;">HD</span></a>`;
                viewersRow = `<div class="info-row"><span class="info-label">üëÄ Viewers</span><span class="info-value">${match.live_viewers || '10k+'}</span></div>`;
                statusClass = 'live';
                statusText = `Live - ${match.status_text || 'Playing'}`;
            } else {
                watchButtonHtml = `<button class="btn-watch-action" disabled>‚è≥ Coming Soon</button>`;
                statusClass = '';
                statusText = `Upcoming`;
            }

            const tableHtml = `
                <div class="info-table">
                    <div class="info-row">
                        <span class="info-label">Status</span>
                        <span class="info-value ${statusClass}">${statusText}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">üìÖ Start Time</span>
                        <span class="info-value">${match.formatted_date}</span>
                    </div>
                     <div class="info-row">
                        <span class="info-label">üì∫ Channels</span>
                        <span class="info-value">${match.streams ? match.streams.length : 0} Available</span>
                    </div>
                    ${viewersRow}
                </div>
                ${watchButtonHtml}
            `;
            
            heroParagraph.innerHTML = tableHtml;
        }

        function renderPlayerView(match) {
            const container = document.getElementById('watch-container');
            if (!match.streams || match.streams.length === 0) {
                container.innerHTML = `<div class="hero-section"><p>No streams available for this match.</p></div>`;
                return;
            }

            const firstStream = match.streams[0];
            let streamUrl = firstStream.url;
            if (firstStream.encrypted_data) {
                streamUrl = decryptStreamUrl(firstStream.encrypted_data);
            }

            if (!streamUrl) {
                container.innerHTML = `<div class="hero-section"><p>Error loading stream.</p></div>`;
                return;
            }

            container.innerHTML = `
                <div class="player-container" id="player-wrapper">
                    <iframe src="${streamUrl}" allow="autoplay; fullscreen" allowfullscreen></iframe>
                    <button class="fullscreen-btn" onclick="toggleFullScreen()">
                        <svg viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                    </button>
                </div>
            `;
            // Hide the default hero paragraph when player is active
            document.getElementById('hero-paragraph').style.display = 'none';
        }

        function decryptStreamUrl(encryptedString) {
            try {
                if (!window.CryptoJS) return null;
                const parts = encryptedString.split(':');
                if (parts.length !== 2) return null;

                const iv = CryptoJS.enc.Hex.parse(parts[0]);
                const ct = CryptoJS.enc.Hex.parse(parts[1]);
                const key = CryptoJS.enc.Utf8.parse(SECRET_KEY);
                
                const dec = CryptoJS.AES.decrypt({ ciphertext: ct }, key, { iv: iv, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 });
                return dec.toString(CryptoJS.enc.Utf8);
            } catch (e) {
                console.error("Decryption Error:", e);
                return null;
            }
        }
        
        function toggleFullScreen() {
            const elem = document.getElementById('player-wrapper');
            if (!document.fullscreenElement) {
                elem.requestFullscreen().catch(err => {
                    alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        function renderSocials() {
            const sb = document.getElementById('socialSidebar');
            if(!sb) return;

            let shareUrl = SITE_DOMAIN + window.location.pathname; // Default share URL
            const params = new URLSearchParams(window.location.search);
            const streamId = params.get('id');
            const infoId = window.location.hash.substring(1);

            // IMPORTANT: Modify share URL if viewing a stream
            if (streamId) {
                shareUrl = `${SITE_DOMAIN}/watch/#${streamId}`;
            } else if (infoId) {
                shareUrl = `${SITE_DOMAIN}/watch/#${infoId}`;
            }

            const encodedUrl = encodeURIComponent(shareUrl);
            const actions = {
                telegram: `https://t.me/share/url?url=${encodedUrl}`,
                whatsapp: `https://api.whatsapp.com/send?text=${encodedUrl}`,
                reddit: `https://www.reddit.com/submit?url=${encodedUrl}`,
                twitter: `https://twitter.com/intent/tweet?url=${encodedUrl}`
            };

            const icons = {
                telegram: '<svg viewBox="0 0 24 24"><path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.47-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.28L19.84 4c.75-.28 1.4.52 1.16 1.76l-2.8 13.2c-.2.9-1.09.9-1.8.6l-5.45-4.06-2.6 2.5c-.3.3-.55.55-1.1.55l.45-3.6z"/></svg>',
                whatsapp: '<svg viewBox="0 0 24 24"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91c0 1.75.46 3.46 1.33 4.97L2 22l5.25-1.38a9.86 9.86 0 004.79 1.22h.01c5.46 0 9.91-4.45 9.91-9.91C21.96 6.45 17.51 2 12.04 2zm4.43-6.03c-.24-.12-1.41-.7-1.63-.78-.22-.08-.38-.12-.54.12-.16.24-.62.78-.76.94-.14.16-.28.18-.52.06-.24-.12-1.02-.38-1.94-1.2-.72-.64-1.2-1.44-1.34-1.68-.14-.24-.01-.37.11-.49.11-.11.24-.28.36-.42.12-.14.16-.24.24-.4.08-.16.04-.3-.02-.42-.06-.12-.54-1.3-.74-1.78-.2-.48-.4-.42-.54-.42h-.46c-.16 0-.42.06-.64.3C4.33 8.6 3.5 9.2 3.5 10.38c0 1.18.86 2.32.98 2.48.12.16 1.7 2.6 4.12 3.65.58.25 1.03.4 1.38.51.58.18 1.1.15 1.52.09.46-.07 1.41-.58 1.61-1.14.2-.56.2-1.04.14-1.14-.06-.1-.22-.16-.46-.28z"/></svg>',
                reddit: '<svg viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.22 14.11c-.13.26-.35.45-.6.54-.25.09-.52.1-.78.01-.8-.28-1.76-.43-2.77-.43s-1.97.15-2.77.43c-.26.09-.53.08-.78-.01-.25-.09-.47-.28-.6-.54-.15-.3-.19-.64-.11-.96.08-.32.28-.59.56-.75.9-.53 2.05-.83 3.28-.88l.66-3.11 2.16.46c.04-.2.15-.38.31-.51s.36-.2.55-.17c.2.03.38.15.51.31.13.16.2.36.17.55l-2.16-.46-.66 3.11c1.23.05 2.38.35 3.28.88.28.16.48.43.56.75.08.32.04.66-.11.96zM12 11.25c-.97 0-1.75.78-1.75 1.75s.78 1.75 1.75 1.75 1.75-.78 1.75-1.75-.78-1.75-1.75-1.75zm-3.25-2.5c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25-.56 1.25-1.25 1.25-1.25-.56-1.25-1.25zm6.5 0c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25-.56 1.25-1.25 1.25-1.25-.56-1.25-1.25z"/></svg>',
                twitter: '<svg viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>'
            };
            
            let html = '';
            for (const [p, url] of Object.entries(actions)) {
                html += `<a href="${url}" target="_blank" class="social-btn ${p}">${icons[p]}<span class="s-count">${formatCount(SHARE_CONFIG.counts[p])}</span></a>`;
            }
            sb.innerHTML = html;
        }

        function formatCount(num) {
            if (num === undefined || num === null) return '';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
            return num;
        }
        
        function highlightActiveMenu() {
            const path = window.location.pathname;
            document.querySelectorAll('.nav-links a, .mobile-menu a').forEach(link => {
                if (link.getAttribute('href') === path) link.classList.add('active');
            });
        }
        function toggleMenu() { document.getElementById('mobileMenu').classList.toggle('active'); }
    </script>

</body>
</html>
