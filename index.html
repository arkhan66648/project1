<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best site</title>
    <meta name="description" content="Best meta">
    <meta name="keywords" content="gfchbcg,gdgd,gfhfg">
    <meta name="theme-color" content="#050505">
    <link rel="canonical" href="https://streameast.com">
    <link rel="icon" href="">
    
    <!-- 1. SYSTEM FONTS ONLY (Fastest, matches reference) -->
    <!-- No Google Fonts or External Scripts here -->

    <script type="application/ld+json">[{"@context": "https://schema.org", "@type": "Organization", "name": "StreamEast", "url": "https://crackstreams.help", "logo": "/assets/streameast-logo-hd.jpg"}]</script>

    <style>
        /* --- REFERENCE COLORS & VARIABLES --- */
        :root {
            --brand-primary: #D00000;
            --brand-dark: #8a0000;
            --status-green: #00e676;
            --accent-gold: #FFD700;
            --bg-body: #050505;
            --bg-glass: rgba(18, 18, 18, 0.85);
            --border: #222;
            --text-main: #ffffff;
            --text-muted: #888;
            /* CMS Placeholders mapping */
            --cms-hero-grad: ; 
        }

        /* --- GLOBAL RESET --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            margin: 0; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif; 
            background: var(--bg-body); 
            color: var(--text-main); 
            font-size: 14px; 
            overflow-x: hidden; 
        }
        a { text-decoration: none; color: inherit; transition: 0.2s; }
        button { cursor: pointer; border: none; font-family: inherit; }

        /* HEADER */
        header { background: rgba(5, 5, 5, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); height: 60px; width: 100%; position: fixed; top: 0; z-index: 100; }
        .header-container { max-width: 1100px; margin: 0 auto; height: 100%; padding: 0 15px; display: flex; align-items: center; justify-content: space-between; }
        .logo-link { display: flex; align-items: center; gap: 10px; }
        .logo-img { height: 35px; width: 35px; border-radius: 6px; object-fit: cover; box-shadow: 0 0 10px rgba(208,0,0,0.3); }
        .logo-text { font-size: 1.4rem; font-weight: 900; font-style: italic; letter-spacing: -1px; text-transform: uppercase; line-height: 1; }
        .logo-text span { color: var(--brand-primary); }
        .nav-links { display: none; gap: 20px; font-weight: 600; font-size: 0.85rem; text-transform: uppercase; color: #aaa; }
        .nav-links a:hover { color: white; }
        .hamburger { display: block; font-size: 1.4rem; color: white; background: none; }
        
        .mobile-menu { position: fixed; top: 60px; left: 0; width: 100%; background: #0f0f0f; border-bottom: 1px solid var(--border); display: none; flex-direction: column; z-index: 99; }
        .mobile-menu.active { display: flex; }
        .mobile-menu a { padding: 15px 20px; border-bottom: 1px solid #1f1f1f; font-weight: 600; }
        @media (min-width: 900px) { .nav-links { display: flex; } .hamburger { display: none; } }

        /* HERO */
        .hero { padding: 90px 15px 15px 15px; text-align: center; background: radial-gradient(circle at top, #1a0505 0%, var(--bg-body) 80%); border-bottom: 1px solid var(--border); display: block; }
        .sys-status { display: inline-flex; align-items: center; gap: 8px; background: rgba(0, 230, 118, 0.08); border: 1px solid rgba(0, 230, 118, 0.2); padding: 5px 14px; border-radius: 20px; margin-bottom: 15px; font-size: 0.75rem; font-weight: 700; color: var(--status-green); }
        .dot { width: 6px; height: 6px; background: var(--status-green); border-radius: 50%; box-shadow: 0 0 8px var(--status-green); animation: pulse 2s infinite; }
        h1 { margin: 0 0 20px 0; font-size: 1.8rem; line-height: 1.2; color: white; font-weight: 800; }
        .entity-intro { color: #999; font-size: 0.9rem; line-height: 1.5; max-width: 800px; margin: 0 auto; }
        .cat-scroll { display: flex; gap: 10px; overflow-x: auto; padding: 10px 5px; justify-content: center; scrollbar-width: none; }
        .cat-pill { background: #111; border: 1px solid var(--border); padding: 8px 18px; border-radius: 50px; font-weight: 700; font-size: 0.8rem; white-space: nowrap; color: #ccc; }
        .cat-pill:hover, .cat-pill.active { border-color: var(--brand-primary); color: white; background: rgba(208,0,0,0.1); }
        
        .container { max-width: 1000px; margin: 0 auto; padding: 20px 15px; }

        /* MATCH ROWS */
        .sec-head { display: flex; justify-content: space-between; align-items: flex-end; margin: 30px 0 12px 0; padding-bottom: 8px; border-bottom: 1px solid #1a1a1a; }
        .sec-title { font-size: 1.1rem; font-weight: 800; color: white; display: flex; align-items: center; gap: 8px; text-transform: uppercase; }
        .live-dot { width: 8px; height: 8px; background: var(--brand-primary); border-radius: 50%; box-shadow: 0 0 10px var(--brand-primary); }
        .sec-right-link { font-size: 0.8rem; font-weight: 600; color: var(--text-muted); cursor: pointer; }
        .sec-right-link:hover { color: var(--brand-primary); text-decoration: underline; }

        .match-row { display: grid; grid-template-columns: 45px 1fr 65px 65px; align-items: center; gap: 8px; background: var(--bg-glass); border: 1px solid var(--border); border-radius: 6px; padding: 10px 8px; margin-bottom: 8px; position: relative; transition: 0.2s; }
        .match-row:hover { border-color: #444; transform: translateY(-2px); }
        .match-row.live { border-left: 3px solid var(--brand-primary); background: linear-gradient(90deg, rgba(208,0,0,0.06) 0%, rgba(20,20,20,0.8) 100%); }
        @media (min-width: 768px) { .match-row { grid-template-columns: 70px 1fr 100px 100px; padding: 15px 20px; gap: 20px; } }

        .col-time { text-align: center; display: flex; flex-direction: column; justify-content: center; gap: 2px; }
        .time-main { font-size: 0.75rem; font-weight: 700; color: white; }
        .time-sub { font-size: 0.6rem; color: #888; }
        .live-txt { color: var(--brand-primary); font-weight: 900; animation: blink 1.5s infinite; font-size: 0.65rem; }

        .teams-wrapper { display: flex; flex-direction: column; gap: 3px; overflow: hidden; }
        .league-tag { font-size: 0.6rem; color: #666; font-weight: 700; text-transform: uppercase; }
        .team-name { font-size: 0.9rem; font-weight: 600; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: flex; align-items: center; gap: 6px; }
        .t-logo { width: 18px; height: 18px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 900; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.5); flex-shrink: 0; }

        .col-meta { display: flex; flex-direction: column; align-items: flex-end; gap: 3px; justify-content: center; }
        .meta-top { font-size: 0.7rem; font-weight: 700; color: var(--accent-gold); }
        .meta-bot { font-size: 0.6rem; color: #aaa; border: 1px solid #333; padding: 1px 4px; border-radius: 3px; }

        .col-action { margin-left: auto; width: 100%; }
        .btn-watch { background: var(--brand-primary); color: white; font-size: 0.65rem; font-weight: 800; padding: 8px 10px; border-radius: 4px; width: 100%; text-transform: uppercase; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
        .btn-watch:hover { background: var(--brand-dark); transform: scale(1.02); }
        .btn-notify { background: transparent; border: 1px solid #333; color: #888; padding: 6px 0; box-shadow: none; }
        .btn-notify.active { border-color: var(--status-green); color: var(--status-green); cursor: default; }

        .show-more-btn { display: block; margin: 20px auto; background: #151515; border: 1px solid #333; color: #ccc; padding: 12px 25px; border-radius: 30px; font-weight: 600; font-size: 0.85rem; transition:0.2s; }
        .show-more-btn:hover { border-color: var(--brand-primary); color: #fff; }

        /* FOOTER & SEO */
        .seo-box { background: #0a0a0a; border: 1px solid var(--border); padding: 25px; border-radius: 10px; margin-top: 40px; color: #ccc; }
        footer { text-align: center; padding: 40px 20px; color: #444; font-size: 0.75rem; border-top: 1px solid #1a1a1a; margin-top: 40px; }
        .footer-content { display: none; } /* Keeping structure for CMS but hiding if not needed */
        
        /* POPUPS */
        .entity-popup { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 5000; display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        
        /* PLAYER MODAL STYLES (Clean, hidden by default) */
        .modal { position: fixed; inset: 0; background: #000; z-index: 2000; display: none; flex-direction: column; }
        /* Actual layout generated by player.js */

        @keyframes blink { 0%, 100% {opacity:1;} 50% {opacity:0.4;} }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="/" class="logo-link"><img src="/assets/streameast-logo-hd.jpg" class="logo-img"> <div class="logo-text">Stream<span>East</span></div></a>
            <nav class="nav-links"><a href="#" >Schedule</a><a href="/#faqs" >FAQs</a></nav>
            <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
        </div>
    </header>
    <div class="mobile-menu" id="mobileMenu"><a href="#" >Schedule</a><a href="/#faqs" >FAQs</a></div>

    <div class="hero">
        <div class="sys-status"><div class="dot"></div> System Status: Online</div>
        <h1>No. #1 Streaming Website</h1>
        <p class="entity-intro">Best meta</p>
        <div class="cat-scroll"><a href="#" class="cat-pill">‚öæ MLB</a><a href="/nba" class="cat-pill">üèÄ NBA</a></div>
    </div>

    <div class="container">
        <div id="live-section">
            <div class="sec-head"><div class="sec-title"><div class="live-dot"></div> Trending Live</div><div class="sec-right-link" id="live-count">Loading...</div></div>
            <div id="trending-list" class="match-list"></div>
            <button id="show-more-live" class="show-more-btn" style="display:none">Show More Matches ‚ñº</button>
            <div id="hidden-live-list" class="match-list" style="display:none; margin-top:10px;"></div>
        </div>
        <div id="upcoming-container"></div>
        <div class="seo-box"><h2>Welcome boss</h2></div>
    </div>

    <footer>
        <div class="disclaimer">Hello world</div>
        <div class="copyright"></div>
    </footer>

    <!-- Entity Popup (CMS Feature) -->
    <div id="entityPopup" class="entity-popup">
        <h3 id="entityPopupTitle" style="color:#fff; margin-bottom:10px;">Searching...</h3>
        <p style="color:#888;">Checking stream availability...</p>
    </div>

    <!-- PLAYER CONTAINER (Empty initially for speed) -->
    <div id="streamModal" class="modal"></div>

    <script>
        const API_URL = "https://vercelapi-olive.vercel.app/api/sync-nodes";
        const TARGET_COUNTRY = "US"; 
        const PRIORITIES = {"NFL": {"score": 100, "isLeague": true, "hasLink": true}, "NBA": {"score": 95, "isLeague": true, "hasLink": true}, "MLB": {"score": 90, "isLeague": true, "hasLink": true}, "College Football": {"score": 88, "isLeague": true, "hasLink": false}, "College Basketball": {"score": 87, "isLeague": true, "hasLink": false}, "NHL": {"score": 85, "isLeague": true, "hasLink": false}, "UFC": {"score": 80, "isLeague": true, "hasLink": false}, "MMA": {"score": 79, "isLeague": false, "hasLink": false}, "MLS": {"score": 70, "isLeague": true, "hasLink": false}, "Premier League": {"score": 60, "isLeague": true, "hasLink": false}, "Boxing": {"score": 50, "isLeague": false, "hasLink": false}, "Tennis": {"score": 40, "isLeague": false, "hasLink": false}}; 
        const SITE_DOMAIN = "https://crackstreams.help";

        let allMatches = [];
        let renderedIds = new Set();
        window.MATCH_DATA = {}; // Global store

        window.addEventListener('DOMContentLoaded', () => {
            loadMatches();
        });

        async function loadMatches() {
            try {
                const res = await fetch(`${API_URL}?country=${TARGET_COUNTRY.toLowerCase()}`);
                const data = await res.json();
                allMatches = data.matches;
                document.getElementById('live-count').innerText = `‚óè ${data.matches.filter(m => m.is_live).length} Live Matches`;
                injectDynamicSchema(data.seo);
                renderApp(data.matches);
            } catch(e) { console.error(e); }
        }

        function renderApp(matches) {
            renderedIds.clear();
            window.MATCH_DATA = {};
            
            matches.forEach(m => window.MATCH_DATA[m.id] = m);

            const liveMatches = matches.filter(m => m.is_live);
            renderLiveSection(liveMatches);

            const now = Date.now();
            const oneDay = 24 * 60 * 60 * 1000;
            const upcomingMatches = matches.filter(m => {
                if (m.is_live) return false;
                if (renderedIds.has(m.id)) return false;
                return (m.startTimeUnix - now) < oneDay;
            });
            renderUpcomingSections(upcomingMatches);

            // CHECK HASH FOR DIRECT LINK / SEO
            const hashId = window.location.hash.replace('#', '');
            if(hashId && window.MATCH_DATA[hashId]) {
                // TRUE = Start Locked (Show Info Card only)
                openPlayer(hashId, true);
            }
        }

        function renderLiveSection(matches) {
            const topList = document.getElementById('trending-list');
            const hiddenList = document.getElementById('hidden-live-list');
            const btn = document.getElementById('show-more-live');
            topList.innerHTML = ''; hiddenList.innerHTML = ''; btn.style.display='none';
            if (matches.length === 0) { topList.innerHTML = '<div style="text-align:center; padding:30px; color:#444;">No live matches currently.</div>'; return; }
            
            matches.slice(0, 5).forEach(m => { topList.appendChild(createMatchRow(m, 'tournament')); renderedIds.add(m.id); });
            if (matches.length > 5) {
                matches.slice(5).forEach(m => { hiddenList.appendChild(createMatchRow(m, 'tournament')); renderedIds.add(m.id); });
                btn.style.display = 'block'; btn.innerText = `Show ${matches.length - 5} More Matches ‚ñº`;
                btn.onclick = () => { hiddenList.style.display='block'; btn.style.display='none'; };
            }
        }

        function renderUpcomingSections(matches) {
            const container = document.getElementById('upcoming-container');
            container.innerHTML = '';
            const prioKeys = Object.keys(PRIORITIES).sort((a,b) => PRIORITIES[b].score - PRIORITIES[a].score);
            
            prioKeys.forEach(key => {
                const config = PRIORITIES[key];
                const isLeague = config.isLeague || false;
                const hasLink = config.hasLink || false;
                const groupMatches = matches.filter(m => {
                    if (renderedIds.has(m.id)) return false;
                    const targetText = isLeague ? (m.league || m.tournament || "") : (m.sport || "");
                    if (targetText.toLowerCase().includes(key.toLowerCase())) { renderedIds.add(m.id); return true; }
                    return false;
                });
                if (groupMatches.length > 0) createSection(container, `Upcoming ${key}`, groupMatches, isLeague, hasLink, key);
            });
            const leftovers = matches.filter(m => !renderedIds.has(m.id));
            if (leftovers.length > 0) {
                const groups = {};
                leftovers.forEach(m => { const s = m.sport || "General"; if(!groups[s]) groups[s] = []; groups[s].push(m); });
                Object.keys(groups).forEach(sport => createSection(container, `Upcoming ${sport}`, groups[sport], false, false, sport));
            }
        }

        function createSection(container, title, matches, isLeague, hasLink, iconKey) {
            const section = document.createElement('div');
            let linkHtml = '';
            if (hasLink) {
                const slug = iconKey.toLowerCase().replace(/ /g, '-').replace(/[^a-z0-9-]/g, '');
                linkHtml = `<a href="/${slug}/" class="sec-right-link">View All ></a>`;
            }
            section.innerHTML = `<div class="sec-head"><div class="sec-title">${getSportIcon(iconKey)} ${title}</div>${linkHtml}</div>`;
            const list = document.createElement('div');
            matches.sort((a,b) => a.startTimeUnix - b.startTimeUnix).forEach(m => list.appendChild(createMatchRow(m, isLeague ? 'sport' : 'tournament')));
            section.appendChild(list);
            container.appendChild(section);
        }

        function createMatchRow(m, tagType) {
            const div = document.createElement('div');
            div.className = m.is_live ? 'match-row live' : 'match-row';
            
            let timeCol;
            if (m.is_live) timeCol = `<span class="live-txt">LIVE</span><span class="time-sub">${m.status_text || "Now"}</span>`;
            else { const parts = m.formatted_date.split('‚Ä¢'); timeCol = `<span class="time-main">${parts[1] || ''}</span><span class="time-sub">${parts[0]}</span>`; }

            let teamsHtml = '';
            const tA = m.team_a; const tB = m.team_b;
            if (!tB) teamsHtml = `<div class="team-name" style="font-size:1rem;"><span class="t-logo" style="background:${getColor(m.team_a_letter||'T')}">${m.team_a_letter||'T'}</span> ${tA}</div>`;
            else teamsHtml = `
                <div class="team-name"><span class="t-logo" style="background:${getColor(m.team_a_letter||'T')}">${m.team_a_letter||'T'}</span> ${tA}</div>
                <div class="team-name"><span class="t-logo" style="background:${getColor(m.team_b_letter||'T')}">${m.team_b_letter||'T'}</span> ${tB}</div>`;

            const tagText = tagType === 'sport' ? m.sport : (m.tournament || m.league || m.sport);
            
            let metaHtml = '', actionHtml = '';
            if (m.is_live) {
                metaHtml = `<div class="meta-top">üî• ${m.live_viewers || 'N/A'}</div><div class="meta-bot">HD</div>`;
                // CLICKING WATCH HERE = UNLOCKED (false) -> Loads Player Directly
                actionHtml = `<button class="btn-watch" onclick="openPlayer('${m.id}', false)">WATCH</button>`;
            } else {
                metaHtml = `<div class="meta-top" style="color:#aaa; font-weight:400;">‚è≥</div>`;
                actionHtml = `<button class="btn-watch btn-notify" onclick="this.innerHTML='‚úì SET'; this.classList.add('active');">üîî NOTIFY</button>`;
            }

            div.innerHTML = `<div class="col-time">${timeCol}</div><div class="teams-wrapper"><div class="league-tag">${tagText}</div>${teamsHtml}</div><div class="col-meta">${metaHtml}</div><div class="col-action">${actionHtml}</div>`;
            return div;
        }

        // --- PLAYER & MODAL LOGIC (Lazy Loading) ---
        function openPlayer(matchId, startLocked) {
            const m = window.MATCH_DATA[matchId];
            if(!m) return alert("Match expired or not found.");

            // If we are clicking "Watch" (unlocked), we want the URL to update immediately
            if(!startLocked) {
                 // Push state happens in player.js usually, but we can do it here too if preferred. 
                 // We will let player.js handle it to keep logic centralized.
            }

            // Lazy Load Player Script only when needed
            if(window.initPlayer) {
                window.initPlayer(m, startLocked);
            } else {
                const script = document.createElement('script');
                script.src = 'assets/player.js';
                script.onload = () => window.initPlayer(m, startLocked);
                document.body.appendChild(script);
            }
        }
        
        // Helper functions
        function injectDynamicSchema(seoData) { if(!seoData) return; let jsonStr = JSON.stringify(seoData).replace(/https:\/\/example\.com/g, SITE_DOMAIN); const script = document.createElement('script'); script.type = 'application/ld+json'; script.text = jsonStr; document.head.appendChild(script); }
        function getSportIcon(n) { n=(n||"").toLowerCase(); if(n.includes('soccer')||n.includes('premier')) return '‚öΩ'; if(n.includes('basket')||n.includes('nba')) return 'üèÄ'; if(n.includes('football')||n.includes('nfl')) return 'üèà'; if(n.includes('baseball')||n.includes('mlb')) return '‚öæ'; if(n.includes('ufc')||n.includes('mma')) return 'ü•ä'; if(n.includes('hockey')) return 'üèí'; if(n.includes('f1')) return 'üèéÔ∏è'; return 'üèÜ'; }
        function getColor(char) { const c = ['#e53935','#d81b60','#8e24aa','#5e35b1','#3949ab','#1e88e5','#039be5','#00897b','#43a047','#7cb342','#c0ca33','#fdd835','#fb8c00']; return c[char.charCodeAt(0) % c.length]; }
        function toggleMenu() { document.getElementById('mobileMenu').classList.toggle('active'); }
    </script>
</body>
</html>
